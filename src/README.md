Code based from https://github.com/abisee/pointer-generator